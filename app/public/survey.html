<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Survey</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <style>
    @media print {
        #ghostery-purple-box {
            display: none !important
        }
    }
    </style>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>

<body data-gr-c-s-loaded="true" style="">
    <div class="container">
        <h2>Survey Questions</h2>
        <hr>
        <h3>About You</h3>
        <form role="form" lpformnum="1">
            <div class="form-group">
                <label for="">Name (Required)</label>
                <input type="text" class="form-control">
            </div>
            <div class="form-group">
                <label for="">Link to Photo Image (Required)</label>
                <input type="text" class="form-control">
            </div>
            <hr>
        </form>
        <div class="dropdown">
            <h3>Question 1</h3>
            <h4>Your mind is always bussing with unexplored ideas and plans.</h4>
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                Select an Option
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                <li><a href="#">1 (Strongly Agree)</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5 (Strongly Disagree)</a></li>
            </ul>
        </div>
        <div class="dropdown">
            <h3>Question 2</h3>
            <h4>Generally speaking, you rely more on your experience than your imagination.</h4>
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                Select an Option
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                <li><a href="#">1 (Strongly Agree)</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5 (Strongly Disagree)</a></li>
            </ul>
        </div>
        <div class="dropdown">
            <h3>Question 3</h3>
            <h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                Select an Option
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                <li><a href="#">1 (Strongly Agree)</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5 (Strongly Disagree)</a></li>
            </ul>
        </div>
        <div class="dropdown">
            <h3>Question 4</h3>
            <h4>You rarely do something just out of sheer curiosity.</h4>
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                Select an Option
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                <li><a href="#">1 (Strongly Agree)</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5 (Strongly Disagree)</a></li>
            </ul>
        </div>
   <div class="dropdown">
            <h3>Question 5</h3>
            <h4>People can rarely upset you.</h4>
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                Select an Option
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                <li><a href="#">1 (Strongly Agree)</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5 (Strongly Disagree)</a></li>
            </ul>
        </div>
           <div class="dropdown">
            <h3>Question 6</h3>
            <h4>It is often difficult for you to relate to other people’s feelings.</h4>
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                Select an Option
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                <li><a href="#">1 (Strongly Agree)</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5 (Strongly Disagree)</a></li>
            </ul>
        </div>
           <div class="dropdown">
            <h3>Question 7</h3>
            <h4>In a discussion, truth should be more important than people’s sensitivities.</h4>
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                Select an Option
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                <li><a href="#">1 (Strongly Agree)</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5 (Strongly Disagree)</a></li>
            </ul>
        </div>
           <div class="dropdown">
            <h3>Question 8</h3>
            <h4>You rarely get carried away by fantasies and ideas.</h4>
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                Select an Option
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                <li><a href="#">1 (Strongly Agree)</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5 (Strongly Disagree)</a></li>
            </ul>
        </div>
           <div class="dropdown">
            <h3>Question 9</h3>
            <h4>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</h4>
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                Select an Option
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                <li><a href="#">1 (Strongly Agree)</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5 (Strongly Disagree)</a></li>
            </ul>
        </div>
           <div class="dropdown">
            <h3>Question 10</h3>
            <h4>You feel more energetic after spending time with a group of people.</h4>
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                Select an Option
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                <li><a href="#">1 (Strongly Agree)</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">5 (Strongly Disagree)</a></li>
            </ul>
        </div>
<br>
        <a href="/">
            <button type="button" class="btn btn-primary btn-lg btn-block"><span class="glyphicon glyphicon-ok-sign"></span> Submit</button>
        </a>
        <hr>
    </div>
    <footer class="footer">
        <div class="container">
            <p>
                <a href="#" id="clear">API Friends List</a> |
                <a href="https://github.com/ncloyd/FriendFinder">GitHub Repo</a>
            </p>
        </div>
    </footer>
    <!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS LOADED FROM OUR SERVER -->
    <script type="text/javascript">
    // In this code, jQuery is used to "download" the data from our server
    // We then dynamically display this content in our table. This is very similar to the group projects you just completed.
    // It's also very similar to the NYT search application. In fact, I copied a ton of code from there.

    function runTableQuery() {
        var currentURL = window.location.origin;

        $.ajax({ url: currentURL + "/api/tables", method: "GET" })
            .done(function(tableData) {


                console.log("URL: " + currentURL + "/api/tables");
                console.log("------------------------------------");
                console.log(tableData);
                console.log("------------------------------------")

                for (var i = 0; i < tableData.length; i++) {

                    // Create the HTML Well (Section) and Add the table content for each reserved table
                    var tableSection = $("<div>");
                    tableSection.addClass('well');
                    tableSection.attr('id', 'tableWell-' + i + 1)
                    $('#tableSection').append(tableSection);

                    var tableNumber = i + 1;


                    // Then display the remaining fields in the HTML (Section Name, Date, URL)
                    $("#tableWell-" + i + 1).append('<h2><span class="label label-primary">' + tableNumber + "</span> | " + tableData[i].customerID + "</h2>");
                }
            });
    }

    function runWaitListQuery() {

        // Here we get the location of the root page.
        // We use this instead of explicitly saying the URL is localhost:3001 because the url will change when we deploy.
        var currentURL = window.location.origin;

        // The AJAX function uses the URL of our API to GET the data associated with it (initially set to localhost)
        $.ajax({ url: currentURL + "/api/waitlist", method: "GET" })
            .done(function(waitlistData) {

                // Here we are logging the URL so we have access to it for troubleshooting
                console.log("------------------------------------");
                console.log("URL: " + currentURL + "/api/waitlist");
                console.log("------------------------------------");

                // Here we then log the NYTData to console, where it will show up as an object.
                console.log(waitlistData);
                console.log("------------------------------------")

                // Loop through and display each of the customers
                for (var i = 0; i < waitlistData.length; i++) {

                    // Create the HTML Well (Section) and Add the table content for each reserved table
                    var waitlistSection = $("<div>");
                    waitlistSection.addClass('well');
                    waitlistSection.attr('id', 'waitlistWell-' + i + 1)
                    $('#waitlistSection').append(waitlistSection);

                    var tableNumber = i + 1;

                    // Then display the remaining fields in the HTML (Section Name, Date, URL)
                    $("#waitlistWell-" + i + 1).append('<h2><span class="label label-primary">' + tableNumber + "</span> | " + waitlistData[i].customerID + "</h2>");
                }
            });
    }

    // This function resets all of the data in our tables. This is intended to let you restart a demo.
    function clearTable() {

        var currentURL = window.location.origin;
        $.ajax({ url: currentURL + "/api/clear", method: "POST" })

    }

    $("#clear").on('click', function() {
        alert("Clearing...");
        clearTable();

        // Refresh the page after data is cleared
        location.reload();
    })


    // Run Queries!
    // ==========================================
    runTableQuery();
    runWaitListQuery();
    </script>
</body>

</html>